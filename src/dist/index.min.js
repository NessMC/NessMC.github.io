const section=document.getElementsByClassName("section")[0],html=document.getElementsByTagName("html")[0],element_list=[],controls=document.createElement("div"),controls_list=document.createElement("ul");let clientY,counter=0,slide_counter=0,active_item=0,slides=section.querySelectorAll(".slide");function next_slide(){window.scrollTo({top:slides[counter].offsetTop,behavior:"smooth"})}function scroll(deltaY){deltaY<0?counter>0&&--counter:counter+1<slides.length&&++counter,next_slide()}function control_change(){element_list.forEach(element=>{parseInt(element.dataset.index)===counter+1&&(element_list[active_item].classList.remove("active"),element.classList.add("active"),active_item=counter)})}window.addEventListener("load",()=>{next_slide()}),controls.classList.add("controls"),controls_list.classList.add("controls-list"),controls.appendChild(controls_list),section.prepend(controls),slides.forEach(element=>{const name=element.attributes.name.value;++slide_counter;const control_item=document.createElement("li");control_item.classList.add("control-item"),1===slide_counter&&control_item.classList.add("active"),control_item.dataset.index=slide_counter,control_item.innerText=name,controls_list.appendChild(control_item)});for(const i in controls_list.children)if(NaN!==parseInt(i)&&void 0!==controls_list.children[parseInt(i)]){const element=controls_list.children[parseInt(i)];element_list.push(element)}element_list.forEach(element=>{element.addEventListener("click",()=>{const index=element.dataset.index;counter=index-1,controls_list.children[active_item].classList.remove("active"),active_item=counter,controls_list.children[active_item].classList.add("active"),next_slide(),controls.style.top=slides[counter].offsetTop+window.innerHeight/2+"px"})}),window.addEventListener("resize",e=>{next_slide(),controls.style.top=slides[counter].offsetTop+window.innerHeight/2+"px"}),section.addEventListener("wheel",e=>{section.classList.contains("disabled")&&html.classList.contains("disabled")?stop&&e.preventDefault():(scroll(e.deltaY),controls.style.top=slides[counter].offsetTop+window.innerHeight/2+"px",control_change(),section.classList.add("disabled"),html.classList.add("disabled"),setTimeout(()=>{section.classList.remove("disabled"),html.classList.remove("disabled")},350))}),section.addEventListener("touchstart",e=>{e.preventDefault(),clientY=e.touches[0].clientY}),section.addEventListener("touchend",e=>{let deltaY;scroll(-(e.changedTouches[0].clientY-clientY)),controls.style.top=slides[counter].offsetTop+window.innerHeight/2+"px",control_change()});